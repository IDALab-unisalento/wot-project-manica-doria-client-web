<div class="padding-md">
  <div class="card shadow dimension">

    <div class="card-header">
      <h3>Machine and Zone</h3>
    </div>

    <div class="card-body">
      <div class="row">
        <div class="col">

          <!-- --------------- Selector Custom ---------------------->
          <div class="row">
            <div class="col padding-bottom-sm">
              <div class="input-group" style="margin-right: 10px">
                <select class="custom-select border-right-0" style="border-radius: 10px 0 0 10px;"
                  id="inputGroupSelect01" (change)="getAllZoneByMachine()">
                  <option value="0" selected>Choose a Machine...</option>
                  <option *ngFor="let machine of machineList" value="{{machine.id}}">{{machine.name}}
                    ({{machine.serialNumber}})
                  </option>
                </select>
                <a class="btn border-top border-bottom" style="border-radius: 0; border: #cfd4d9"
                  (click)="showAddMachine()">
                  <i class="fa fa-plus-square-o fa-lg"></i>
                </a>
                <a class="btn border border-left-0" style="border-radius: 0 10px 10px 0; border: #cfd4d9"
                  (click)=" deleteMachine()">
                  <i class="fa fa-trash fa-lg text-danger"></i>
                </a>
              </div>
            </div>
          </div>
          <!-------------------------------------------------------->

          <form *ngIf="isCreate">
            <div class="form-group">
              <input placeholder="Name Machine" type="text" class="form-control" #name name="name">
            </div>

            <div class="form-group">
              <input placeholder="Serial Number" type="text" class="form-control" #serialNumber name="serialNumber">
            </div>

            <div class="d-flex justify-content-end padding-bottom-sm">
              <button type="submit" class="btn btn-success"
                (click)="addMachine(name.value, serialNumber.value)">Save</button>
              <button type="submit" class="btn btn-danger" style=" margin-left: 10px;"
                (click)="cancel()">Cancel</button>
            </div>

          </form>

          <form *ngIf="isAddZone">
            <div class="form-group">
              <input placeholder="Zone Name" type="text" class="form-control" #name name="name">
            </div>

            <select class="custom-select form-control" id="inputGroupSelect02">
              <option value="0" selected>Choose a beacon to associate</option>
              <option *ngFor="let beacon of beaconList" value="{{beacon.id}}">{{beacon.name}} ({{beacon.mac}})</option>
            </select>

            <div class="d-flex justify-content-end padding-top-sm">
              <button type="submit" class="btn btn-success" (click)="addZone(name.value)">Save</button>
              <button type="submit" class="btn btn-danger" style=" margin-left: 10px;"
                (click)="cancelZone()">Cancel</button>
            </div>

          </form>

        </div>

        <div class="col" *ngIf="machineSelected !== '0' ">
          <div class="row">
            <div class="col-3">
              <button class="btn btn-outline-secondary" (click)="showAddZone()">
                Add Zone <i class="fa fa-plus-square-o fa-lg"></i>
              </button>
            </div>
          </div>
          <div *ngIf="zoneList.length !== 0; else elseBlock">
            <ul class="list-group" *ngFor="let zone of zoneList, let myindex = index">
              <li class="list-group-item border-0">
                <div class="row">
                  <div class="col-10 border-color">
                    <b>Zone Name: </b>{{zone.name}}
                    <br>
                    <b>Beacon: </b>
                    <br>
                    <span style="margin-left: 20px"><b>Name</b> {{zone.beacon.name}}</span>
                    <br>
                    <span style="margin-left: 20px"><b>MAC</b> {{zone.beacon.mac}}</span>
                  </div>

                  <div class="col-2 d-flex justify-content-end">
                    <a class="btn bg-transparent fa-lg " style="color: #960000; "
                      (click)="deleteZone(zone.id, myindex)">
                      <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
                    </a>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #elseBlock>
    <h5 class="d-flex justify-content-center"> Zone not Found </h5>
  </ng-template>
